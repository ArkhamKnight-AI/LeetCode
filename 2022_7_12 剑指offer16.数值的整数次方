class Solution {
public:
    double Power(double base, int exponent) {
    if(base == 0) return 0;
    if(exponent == 0) return 1;

    typedef long long ll;

    double res = 1;
    //这里为什么要把exponenet调整为ll类型呢？
    for(ll i = abs(ll(exponent)); i != 0; i >>= 1){
        if(i & 1 == 1) res *= base;
        base *= base;
    }

    return exponent < 0 ? 1 / res : res;
}
};
